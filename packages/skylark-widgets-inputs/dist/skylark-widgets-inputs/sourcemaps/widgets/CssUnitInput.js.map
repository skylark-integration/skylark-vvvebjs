{"version":3,"sources":["widgets/CssUnitInput.js"],"names":["define","langx","$","inputs","Input","tmpl","CssUnitInput","inherit","number","unit","events","onChange","event","data","element","input","this","value","name","addClass","removeClass","trigger","setValue","parseInt","replace","val","init","render"],"mappings":";;;;;;;AAAAA,QACC,sBACA,0BACA,YACA,UACA,UACC,SAASC,EAAOC,EAAEC,EAAOC,EAAMC,GAChC,IAAIC,EAAeF,EAAMG,SAExBC,OAAO,EACPC,KAAK,KAEFC,SACK,SAAU,WAAY,WACtB,uBAAwB,WAAY,UAG5CC,SAAU,SAASC,GAElB,GAAIA,EAAMC,MAAQD,EAAMC,KAAKC,QAC7B,CACCC,MAAQH,EAAMC,KAAKE,MACD,IAAdC,KAAKC,QAAaF,MAAMC,KAAKE,MAAQF,KAAKC,OACzB,IAAjBF,MAAY,OAASA,MAAY,KAAI,MAEzC,IAAIE,EAAQ,GACM,QAAdF,MAAMN,MAETP,EAAEU,EAAMC,KAAKC,SAASK,SAAS,QAC/BF,EAAQF,MAAMN,OAIdP,EAAEU,EAAMC,KAAKC,SAASM,YAAY,QAClCH,EAAQF,MAAMP,OAASO,MAAMN,MAG9BG,EAAMC,KAAKC,QAAQO,QAAQ,kBAAmBJ,EAAOD,SAIvDM,SAAU,SAASL,GAClBD,KAAKR,OAASe,SAASN,GACvBD,KAAKP,KAAOQ,EAAMO,QAAQR,KAAKR,OAAQ,IAEtB,QAAbQ,KAAKP,MAAgBP,EAAEc,KAAKF,SAASK,SAAS,QAElDjB,EAAE,QAASc,KAAKF,SAASW,IAAIT,KAAKR,QAClCN,EAAE,SAAUc,KAAKF,SAASW,IAAIT,KAAKP,OAGpCiB,KAAM,SAASb,GACd,OAAOG,KAAKW,OAAO,eAAgBd,MAKrC,OAAOV,EAAOG,aAAeA","file":"../../widgets/CssUnitInput.js","sourcesContent":["define([\r\n\t\"skylark-langx/langx\",\r\n\t\"skylark-utils-dom/query\",\r\n\t\"../inputs\",\r\n\t\"./Input\",\r\n\t\"./tmpl\"\r\n],function(langx, $,inputs,Input,tmpl) {\r\n\tvar CssUnitInput = Input.inherit({\r\n\r\n\t\tnumber:0,\r\n\t\tunit:\"px\",\r\n\r\n\t    events: [\r\n\t        [\"change\", \"onChange\", \"select\"],\r\n\t        [\"change keyup mouseup\", \"onChange\", \"input\"],\r\n\t\t ],\r\n\t\t\t\r\n\t\tonChange: function(event) {\r\n\t\t\t\r\n\t\t\tif (event.data && event.data.element)\r\n\t\t\t{\r\n\t\t\t\tinput = event.data.input;\r\n\t\t\t\tif (this.value != \"\") input[this.name] = this.value;// this.name = unit or number\t\r\n\t\t\t\tif (input['unit'] == \"\") input['unit'] = \"px\";//if unit is not set use default px\r\n\t\t\t\t\r\n\t\t\t\tvar value = \"\";\t\r\n\t\t\t\tif (input.unit == \"auto\")  \r\n\t\t\t\t{\r\n\t\t\t\t\t$(event.data.element).addClass(\"auto\"); \r\n\t\t\t\t\tvalue = input.unit;\r\n\t\t\t\t}\r\n\t\t\t\telse \r\n\t\t\t\t{\r\n\t\t\t\t\t$(event.data.element).removeClass(\"auto\"); \r\n\t\t\t\t\tvalue = input.number + input.unit;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tevent.data.element.trigger('propertyChange', [value, this]);\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tsetValue: function(value) {\r\n\t\t\tthis.number = parseInt(value);\r\n\t\t\tthis.unit = value.replace(this.number, '');\r\n\t\t\t\r\n\t\t\tif (this.unit == \"auto\") $(this.element).addClass(\"auto\");\r\n\r\n\t\t\t$('input', this.element).val(this.number);\r\n\t\t\t$('select', this.element).val(this.unit);\r\n\t\t},\r\n\t\t\r\n\t\tinit: function(data) {\r\n\t\t\treturn this.render(\"cssunitinput\", data);\r\n\t\t}\t\r\n\r\n\t});\r\n\r\n\treturn inputs.CssUnitInput = CssUnitInput;\r\n});"]}