{"version":3,"sources":["widgets/ColorInput.js"],"names":["define","langx","$","inputs","Input","tmpl","ColorInput","inherit","rgb2hex","rgb","match","length","parseInt","toString","slice","events","setValue","value","this","element","val","init","data","render"],"mappings":";;;;;;;AAAAA,QACC,sBACA,0BACA,YACA,UACA,UACC,SAASC,EAAOC,EAAEC,EAAOC,EAAMC,GAEhC,IAAIC,EAAaF,EAAMG,SAGrBC,QAAS,SAASC,GAEjB,GAAIA,EAIJ,OAFAA,EAAMA,EAAIC,MAAM,0EAEc,IAAfD,EAAIE,OAAgB,KACjC,IAAMC,SAASH,EAAI,GAAG,IAAII,SAAS,KAAKC,OAAO,IAC/C,IAAMF,SAASH,EAAI,GAAG,IAAII,SAAS,KAAKC,OAAO,IAC/C,IAAMF,SAASH,EAAI,GAAG,IAAII,SAAS,KAAKC,OAAO,GAAKL,GAIrDM,SACK,SAAU,WAAY,UAG9BC,SAAU,SAASC,GAClBf,EAAE,QAASgB,KAAKC,SAASC,IAAIF,KAAKV,QAAQS,KAG3CI,KAAM,SAASC,GACd,OAAOJ,KAAKK,OAAO,aAAcD,MAKnC,OAAOnB,EAAOG,WAAaA","file":"../../widgets/ColorInput.js","sourcesContent":["define([\r\n\t\"skylark-langx/langx\",\r\n\t\"skylark-utils-dom/query\",\r\n\t\"../inputs\",\r\n\t\"./Input\",\r\n\t\"./tmpl\"\r\n],function(langx, $,inputs,Input,tmpl) {\r\n\r\n\tvar ColorInput = Input.inherit({\r\n\r\n\t\t //html5 color input only supports setting values as hex colors even if the picker returns only rgb\r\n\t\t rgb2hex: function(rgb) {\r\n\t\t\t \r\n\t\t\t if (rgb)\r\n\t\t\t {\r\n\t\t\t rgb = rgb.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\r\n\t\t\t \r\n\t\t\t return (rgb && rgb.length === 4) ? \"#\" +\r\n\t\t\t  (\"0\" + parseInt(rgb[1],10).toString(16)).slice(-2) +\r\n\t\t\t  (\"0\" + parseInt(rgb[2],10).toString(16)).slice(-2) +\r\n\t\t\t  (\"0\" + parseInt(rgb[3],10).toString(16)).slice(-2) : rgb;\r\n\t\t\t }\r\n\t\t},\r\n\r\n\t    events: [\r\n\t        [\"change\", \"onChange\", \"input\"],\r\n\t\t ],\r\n\r\n\t\tsetValue: function(value) {\r\n\t\t\t$('input', this.element).val(this.rgb2hex(value));\r\n\t\t},\r\n\t\t\r\n\t\tinit: function(data) {\r\n\t\t\treturn this.render(\"colorinput\", data);\r\n\t\t}\r\n\t\r\n\t});\r\n\r\n\treturn inputs.ColorInput = ColorInput;\r\n});"]}