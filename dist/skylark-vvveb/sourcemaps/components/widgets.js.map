{"version":3,"sources":["components/widgets.js"],"names":["define","$","Vvveb","ComponentsGroup","Components","extend","name","attributes","image","dragHtml","baseUrl","html","z","q","t","onChange","node","property","value","map_iframe","jQuery","this","key","mapurl","attr","properties","inputtype","TextInput","SelectInput","data","options","text","RangeInput","max","min","step","video_id","url","autoplay","controls","loop","init","iframe","video","hide","length","src","indexOf","match","val","show","newnode","replaceWith","CheckboxInput","window","location","href","htmlAttr","child","drophtml","dropHtml","input","component","newElement","find","console","log","parent","chartjs","ctx","config","dragStart","body","Builder","frameBody","append","drawChart","destroy","dataset","chart","JSON","stringify","Object","assign","Chart","get","getContext","parse","beforeInit","type"],"mappings":"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","file":"../../components/widgets.js","sourcesContent":["define([\n    \"skylark-utils-dom/query\",\n    \"../Vvveb\",\n    \"../ComponentsGroup\",\n    \"../Components\"\n],function($,Vvveb,ComponentsGroup,Components){\n\n    ComponentsGroup['Widgets'] = [\"widgets/googlemaps\", \"widgets/video\", \"widgets/chartjs\", \"widgets/facebookpage\", \"widgets/paypal\", \"widgets/instagram\", \"widgets/twitter\"/*, \"widgets/facebookcomments\"*/];\n\n    Components.extend(\"_base\", \"widgets/googlemaps\", {\n        name: \"Google Maps\",\n        attributes: [\"data-component-maps\"],\n        image: \"icons/map.svg\",\n        dragHtml: '<img src=\"' + Vvveb.baseUrl + 'icons/maps.png\">',\n        html: '<div data-component-maps style=\"min-height:240px;min-width:240px;position:relative\"><iframe frameborder=\"0\" src=\"https://maps.google.com/maps?&z=1&t=q&output=embed\" width=\"100\" height=\"100\" style=\"width:100%;height:100%;position:absolute;left:0px;pointer-events:none\"></iframe></div>',\n        \n        \n        //url parameters\n        z:3, //zoom\n        q:'Paris',//location\n        t: 'q', //map type q = roadmap, w = satellite\n        \n        onChange: function (node, property, value)\n        {\n    \t\tmap_iframe = jQuery('iframe', node);\n    \t\t\n    \t\tthis[property.key] = value;\n    \t\t\n    \t\tmapurl = 'https://maps.google.com/maps?&q=' + this.q + '&z=' + this.z + '&t=' + this.t + '&output=embed';\n    \t\t\n    \t\tmap_iframe.attr(\"src\",mapurl);\n    \t\t\n    \t\treturn node;\n    \t},\n\n        properties: [{\n            name: \"Address\",\n            key: \"q\",\n            inputtype: TextInput\n        }, \n    \t{\n            name: \"Map type\",\n            key: \"t\",\n            inputtype: SelectInput,\n            data:{\n    \t\t\toptions: [{\n                    value: \"q\",\n                    text: \"Roadmap\"\n                }, {\n                    value: \"w\",\n                    text: \"Satellite\"\n                }]\n           },\n        },\n        {\n            name: \"Zoom\",\n            key: \"z\",\n            inputtype: RangeInput,\n            data:{\n    \t\t\tmax: 20, //max zoom level\n    \t\t\tmin:1,\n    \t\t\tstep:1\n           },\n    \t}]\n    });\n\n    Components.extend(\"_base\", \"widgets/video\", {\n        name: \"Video\",\n        attributes: [\"data-component-video\"],\n        image: \"icons/video.svg\",\n        dragHtml: '<img src=\"' + Vvveb.baseUrl + 'icons/video.svg\" width=\"100\" height=\"100\">', //use image for drag and swap with iframe on drop for drag performance\n        html: '<div data-component-video style=\"min-height:240px;min-width:240px;position:relative\"><iframe frameborder=\"0\" src=\"https://www.youtube.com/embed/-stFvGmg1A8\" style=\"width:100%;height:100%;position:absolute;left:0px;pointer-events:none\"></iframe></div>',\n        \n        \n        //url parameters set with onChange\n        t:'y',//video type\n        video_id:'',//video id\n        url: '', //html5 video src\n        autoplay: false,\n        controls: true,\n        loop: false,\n\n    \tinit: function (node)\n    \t{\n    \t\tiframe = jQuery('iframe', node);\n    \t\tvideo = jQuery('video', node);\n    \t\t\n    \t\t$(\"#right-panel [data-key=url]\").hide();\n    \t\t\n    \t\t//check if html5\n    \t\tif (video.length) \n    \t\t{\n    \t\t\tthis.url = video.src;\n    \t\t} else if (iframe.length) //vimeo or youtube\n    \t\t{\n    \t\t\tsrc = iframe.attr(\"src\");\n\n    \t\t\tif (src && src.indexOf(\"youtube\"))//youtube\n    \t\t\t{\n    \t\t\t\tthis.video_id = src.match(/youtube.com\\/embed\\/([^$\\?]*)/)[1];\n    \t\t\t} else if (src && src.indexOf(\"vimeo\"))//youtube\n    \t\t\t{\n    \t\t\t\tthis.video_id = src.match(/vimeo.com\\/video\\/([^$\\?]*)/)[1];\n    \t\t\t}\n    \t\t}\n    \t\t\n    \t\t$(\"#right-panel input[name=video_id]\").val(this.video_id);\n    \t\t$(\"#right-panel input[name=url]\").val(this.url);\n    \t},\n    \t\n    \tonChange: function (node, property, value)\n    \t{\n    \t\tthis[property.key] = value;\n\n    \t\t//if (property.key == \"t\")\n    \t\t{\n    \t\t\tswitch (this.t)\n    \t\t\t{\n    \t\t\t\tcase 'y':\n    \t\t\t\t$(\"#right-panel [data-key=video_id]\").show();\n    \t\t\t\t$(\"#right-panel [data-key=url]\").hide();\n    \t\t\t\tnewnode = $('<div data-component-video><iframe src=\"https://www.youtube.com/embed/' + this.video_id + '?&amp;autoplay=' + this.autoplay + '&amp;controls=' + this.controls + '&amp;loop=' + this.loop + '\" allowfullscreen=\"true\" style=\"height: 100%; width: 100%;\" frameborder=\"0\"></iframe></div>');\n    \t\t\t\tbreak;\n    \t\t\t\tcase 'v':\n    \t\t\t\t$(\"#right-panel [data-key=video_id]\").show();\n    \t\t\t\t$(\"#right-panel [data-key=url]\").hide();\n    \t\t\t\tnewnode = $('<div data-component-video><iframe src=\"https://player.vimeo.com/video/' + this.video_id + '?&amp;autoplay=' + this.autoplay + '&amp;controls=' + this.controls + '&amp;loop=' + this.loop + '\" allowfullscreen=\"true\" style=\"height: 100%; width: 100%;\" frameborder=\"0\"></iframe></div>');\n    \t\t\t\tbreak;\n    \t\t\t\tcase 'h':\n    \t\t\t\t$(\"#right-panel [data-key=video_id]\").hide();\n    \t\t\t\t$(\"#right-panel [data-key=url]\").show();\n    \t\t\t\tnewnode = $('<div data-component-video><video src=\"' + this.url + '\" ' + (this.controls?' controls ':'') + (this.loop?' loop ':'') + ' style=\"height: 100%; width: 100%;\"></video></div>');\n    \t\t\t\tbreak;\n    \t\t\t}\n    \t\t\t\n    \t\t\tnode.replaceWith(newnode);\n    \t\t\treturn newnode;\n    \t\t}\n    \t\treturn node;\n    \t},\t\n    \t\n        properties: [{\n            name: \"Provider\",\n            key: \"t\",\n            inputtype: SelectInput,\n            data:{\n    \t\t\toptions: [{\n                    text: \"Youtube\",\n                    value: \"y\"\n                }, {\n                    text: \"Vimeo\",\n                    value: \"v\"\n                },{\n                    text: \"HTML5\",\n                    value: \"h\"\n                }]\n           },\n    \t },\t       \n         {\n            name: \"Video id\",\n            key: \"video_id\",\n            inputtype: TextInput,\n        },{\n            name: \"Url\",\n            key: \"url\",\n            inputtype: TextInput\n        },{\n            name: \"Autoplay\",\n            key: \"autoplay\",\n            inputtype: CheckboxInput\n        },{\n            name: \"Controls\",\n            key: \"controls\",\n            inputtype: CheckboxInput\n        },{\n            name: \"Loop\",\n            key: \"loop\",\n            inputtype: CheckboxInput\n        }]\n    });\n\n\n\n    Components.extend(\"_base\", \"widgets/facebookcomments\", {\n        name: \"Facebook Comments\",\n        attributes: [\"data-component-facebookcomments\"],\n        image: \"icons/facebook.svg\",\n        dragHtml: '<img src=\"' + Vvveb.baseUrl + 'icons/facebook.svg\">',\n        html: '<div  data-component-facebookcomments><script>(function(d, s, id) {\\\n    \t\t\t  var js, fjs = d.getElementsByTagName(s)[0];\\\n    \t\t\t  if (d.getElementById(id)) return;\\\n    \t\t\t  js = d.createElement(s); js.id = id;\\\n    \t\t\t  js.src = \"//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.6&appId=\";\\\n    \t\t\t  fjs.parentNode.insertBefore(js, fjs);\\\n    \t\t\t}(document, \\'script\\', \\'facebook-jssdk\\'));</script>\\\n    \t\t\t<div class=\"fb-comments\" \\\n    \t\t\tdata-href=\"' + window.location.href + '\" \\\n    \t\t\tdata-numposts=\"5\" \\\n    \t\t\tdata-colorscheme=\"light\" \\\n    \t\t\tdata-mobile=\"\" \\\n    \t\t\tdata-order-by=\"social\" \\\n    \t\t\tdata-width=\"100%\" \\\n    \t\t\t></div></div>',\n        properties: [{\n            name: \"Href\",\n            key: \"business\",\n            htmlAttr: \"data-href\",\n            child:\".fb-comments\",\n            inputtype: TextInput\n        },{\t\t\n            name: \"Item name\",\n            key: \"item_name\",\n            htmlAttr: \"data-numposts\",\n            child:\".fb-comments\",\n            inputtype: TextInput\n        },{\t\t\n            name: \"Color scheme\",\n            key: \"colorscheme\",\n            htmlAttr: \"data-colorscheme\",\n            child:\".fb-comments\",\n            inputtype: TextInput\n        },{\t\t\n            name: \"Order by\",\n            key: \"order-by\",\n            htmlAttr: \"data-order-by\",\n            child:\".fb-comments\",\n            inputtype: TextInput\n        },{\t\t\n            name: \"Currency code\",\n            key: \"width\",\n            htmlAttr: \"data-width\",\n            child:\".fb-comments\",\n            inputtype: TextInput\n    \t}]\n    });\n\n    Components.extend(\"_base\", \"widgets/instagram\", {\n        name: \"Instagram\",\n        attributes: [\"data-component-instagram\"],\n        image: \"icons/instagram.svg\",\n        drophtml: '<img src=\"' + Vvveb.baseUrl + 'icons/instagram.png\">',\n        html: '<div align=center data-component-instagram>\\\n    \t\t\t<blockquote class=\"instagram-media\" data-instgrm-captioned data-instgrm-permalink=\"https://www.instagram.com/p/tsxp1hhQTG/\" data-instgrm-version=\"8\" style=\" background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:658px; padding:0; width:99.375%; width:-webkit-calc(100% - 2px); width:calc(100% - 2px);\"><div style=\"padding:8px;\"> <div style=\" background:#F8F8F8; line-height:0; margin-top:40px; padding:50% 0; text-align:center; width:100%;\"> <div style=\" background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURczMzPf399fX1+bm5mzY9AMAAADiSURBVDjLvZXbEsMgCES5/P8/t9FuRVCRmU73JWlzosgSIIZURCjo/ad+EQJJB4Hv8BFt+IDpQoCx1wjOSBFhh2XssxEIYn3ulI/6MNReE07UIWJEv8UEOWDS88LY97kqyTliJKKtuYBbruAyVh5wOHiXmpi5we58Ek028czwyuQdLKPG1Bkb4NnM+VeAnfHqn1k4+GPT6uGQcvu2h2OVuIf/gWUFyy8OWEpdyZSa3aVCqpVoVvzZZ2VTnn2wU8qzVjDDetO90GSy9mVLqtgYSy231MxrY6I2gGqjrTY0L8fxCxfCBbhWrsYYAAAAAElFTkSuQmCC); display:block; height:44px; margin:0 auto -44px; position:relative; top:-22px; width:44px;\"></div></div> <p style=\" margin:8px 0 0 0; padding:0 4px;\"> <a href=\"https://www.instagram.com/p/tsxp1hhQTG/\" style=\" color:#000; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px; text-decoration:none; word-wrap:break-word;\" target=\"_blank\">Text</a></p> <p style=\" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; line-height:17px; margin-bottom:0; margin-top:8px; overflow:hidden; padding:8px 0 7px; text-align:center; text-overflow:ellipsis; white-space:nowrap;\">A post shared by <a href=\"https://www.instagram.com/instagram/\" style=\" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px;\" target=\"_blank\"> Instagram</a> (@instagram) on <time style=\" font-family:Arial,sans-serif; font-size:14px; line-height:17px;\" datetime=\"-\">-</time></p></div></blockquote>\\\n    \t\t\t<script async defer src=\"//www.instagram.com/embed.js\"></script>\\\n    \t\t</div>',\n        properties: [{\n            name: \"Widget id\",\n            key: \"instgrm-permalink\",\n            htmlAttr: \"data-instgrm-permalink\",\n            child: \".instagram-media\",\n            inputtype: TextInput\n        }],\n    });\n\n    Components.extend(\"_base\", \"widgets/twitter\", {\n        name: \"Twitter\",\n        attributes: [\"data-component-twitter\"],\n        image: \"icons/twitter.svg\",\n        dragHtml: '<img src=\"' + Vvveb.baseUrl + 'icons/twitter.svg\">',\n        html: '<div data-component-twitter><a class=\"twitter-timeline\" data-dnt=\"true\" data-chrome=\"nofooter noborders noscrollbar noheader transparent\" href=\"https://twitter.com/twitterapi\" href=\"https://twitter.com/twitterapi\" data-widget-id=\"243046062967885824\" ></a>\\\n    \t\t\t<script>window.twttr = (function(d, s, id) {\\\n    \t\t\t  var js, fjs = d.getElementsByTagName(s)[0],\\\n    \t\t\t\tt = window.twttr || {};\\\n    \t\t\t  if (d.getElementById(id)) return t;\\\n    \t\t\t  js = d.createElement(s);\\\n    \t\t\t  js.id = id;\\\n    \t\t\t  js.src = \"https://platform.twitter.com/widgets.js\";\\\n    \t\t\t  fjs.parentNode.insertBefore(js, fjs);\\\n    \t\t\t  t._e = [];\\\n    \t\t\t  t.ready = function(f) {\\\n    \t\t\t\tt._e.push(f);\\\n    \t\t\t  };\\\n    \t\t\t  return t;\\\n    \t\t\t}(document, \"script\", \"twitter-wjs\"));</script></div>',\n        properties: [{\n            name: \"Widget id\",\n            key: \"widget-id\",\n            htmlAttr: \"data-widget-id\",\n            child: \" > a, > iframe\",\n            inputtype: TextInput\n        }],\n    });\n\n    Components.extend(\"_base\", \"widgets/paypal\", {\n        name: \"Paypal\",\n        attributes: [\"data-component-paypal\"],\n        image: \"icons/paypal.svg\",\n        html: '<form action=\"https://www.paypal.com/cgi-bin/webscr\" method=\"post\" data-component-paypal>\\\n    \\\n    \t\t\t\t<!-- Identify your business so that you can collect the payments. -->\\\n    \t\t\t\t<input type=\"hidden\" name=\"business\"\\\n    \t\t\t\t\tvalue=\"givanz@yahoo.com\">\\\n    \\\n    \t\t\t\t<!-- Specify a Donate button. -->\\\n    \t\t\t\t<input type=\"hidden\" name=\"cmd\" value=\"_donations\">\\\n    \\\n    \t\t\t\t<!-- Specify details about the contribution -->\\\n    \t\t\t\t<input type=\"hidden\" name=\"item_name\" value=\"VvvebJs\">\\\n    \t\t\t\t<input type=\"hidden\" name=\"item_number\" value=\"Support\">\\\n    \t\t\t\t<input type=\"hidden\" name=\"currency_code\" value=\"USD\">\\\n    \\\n    \t\t\t\t<!-- Display the payment button. -->\\\n    \t\t\t\t<input type=\"image\" name=\"submit\"\\\n    \t\t\t\tsrc=\"https://www.paypalobjects.com/en_US/i/btn/btn_donate_LG.gif\"\\\n    \t\t\t\talt=\"Donate\">\\\n    \t\t\t\t<img alt=\"\" width=\"1\" height=\"1\"\\\n    \t\t\t\tsrc=\"https://www.paypalobjects.com/en_US/i/scr/pixel.gif\" >\\\n    \\\n    \t\t\t</form>',\n        properties: [{\n            name: \"Email\",\n            key: \"business\",\n            htmlAttr: \"value\",\n            child:\"input[name='business']\",\n            inputtype: TextInput\n        },{\t\t\n            name: \"Item name\",\n            key: \"item_name\",\n            htmlAttr: \"value\",\n            child:\"input[name='item_name']\",\n            inputtype: TextInput\n        },{\t\t\n            name: \"Item number\",\n            key: \"item_number\",\n            htmlAttr: \"value\",\n            child:\"input[name='item_number']\",\n            inputtype: TextInput\n        },{\t\t\n            name: \"Currency code\",\n            key: \"currency_code\",\n            htmlAttr: \"value\",\n            child:\"input[name='currency_code']\",\n            inputtype: TextInput\n    \t}],\n    });\n        \n    Components.extend(\"_base\", \"widgets/facebookpage\", {\n        name: \"Facebook Page Plugin\",\n        attributes: [\"data-component-facebookpage\"],\n        image: \"icons/facebook.svg\",\n        dropHtml: '<img src=\"' + Vvveb.baseUrl + 'icons/facebook.png\">',\n    \thtml: '<div data-component-facebookpage><div class=\"fb-page\" data-href=\"https://www.facebook.com/facebook\" data-appId=\"100526183620976\" data-tabs=\"timeline\" data-small-header=\"true\" data-adapt-container-width=\"true\" data-hide-cover=\"false\" data-show-facepile=\"true\"><blockquote cite=\"https://www.facebook.com/facebook\" class=\"fb-xfbml-parse-ignore\"><a href=\"https://www.facebook.com/facebook\">Facebook</a></blockquote></div>\\\n    \t\t\t<div id=\"fb-root\"></div>\\\n    \t\t\t<script>(function(d, s, id) {\\\n    \t\t\t  var appId = document.getElementsByClassName(\"fb-page\")[0].dataset.appid;\\\n    \t\t\t  var js, fjs = d.getElementsByTagName(s)[0];\\\n    \t\t\t  js = d.createElement(s); js.id = id;\\\n    \t\t\t  js.src = \\'https://connect.facebook.net/en_EN/sdk.js#xfbml=1&version=v3.0&appId=\" + appId + \"&autoLogAppEvents=1\\';\\\n    \t\t\t  fjs.parentNode.insertBefore(js, fjs);\\\n    \t\t\t}(document, \\'script\\', \\'facebook-jssdk\\'));</script></div>',\n\n        properties: [{\n            name: \"Small header\",\n            key: \"small-header\",\n            htmlAttr: \"data-small-header\",\n            child:\".fb-page\",\n            inputtype: TextInput\n        },{\t\t\n            name: \"Adapt container width\",\n            key: \"adapt-container-width\",\n            htmlAttr: \"data-adapt-container-width\",\n            child:\".fb-page\",\n            inputtype: TextInput\n        },{\t\t\n            name: \"Hide cover\",\n            key: \"hide-cover\",\n            htmlAttr: \"data-hide-cover\",\n            child:\".fb-page\",\n            inputtype: TextInput\n        },{\t\t\n            name: \"Show facepile\",\n            key: \"show-facepile\",\n            htmlAttr: \"data-show-facepile\",\n            child:\".fb-page\",\n            inputtype: TextInput\n        },{\t\t\n            name: \"App Id\",\n            key: \"appid\",\n            htmlAttr: \"data-appId\",\n            child:\".fb-page\",\n            inputtype: TextInput\n    \t}],\n       onChange: function(node, input, value, component) {\n    \t   //console.log(component.html);\n    \t   //console.log(this.html);\n    \t   \n    \t   var newElement = $(this.html);\n    \t   newElement.find(\".fb-page\").attr(input.htmlAttr, value);\n    \t   \n    \t   console.log(node.parent());\n    \t   console.log(node.parent().html());\n    \t   node.parent().html(newElement.html());\n\n    \t   console.log(newElement);\n\n\n    \t   console.log(newElement.html());\n\n    \t   return newElement;\n    \t}\t\n    });\n        \n    Components.extend(\"_base\", \"widgets/chartjs\", {\n        name: \"Chart.js\",\n        attributes: [\"data-component-chartjs\"],\n        image: \"icons/chart.svg\",\n    \tdragHtml: '<img src=\"' + Vvveb.baseUrl + 'icons/chart.svg\">',\n        html: '<div data-component-chartjs class=\"chartjs\" data-chart=\\'{\\\n    \t\t\t\"type\": \"line\",\\\n    \t\t\t\"data\": {\\\n    \t\t\t\t\"labels\": [\"Red\", \"Blue\", \"Yellow\", \"Green\", \"Purple\", \"Orange\"],\\\n    \t\t\t\t\"datasets\": [{\\\n    \t\t\t\t\t\"data\": [12, 19, 3, 5, 2, 3],\\\n    \t\t\t\t\t\"fill\": false,\\\n    \t\t\t\t\t\"borderColor\":\"rgba(255, 99, 132, 0.2)\"\\\n    \t\t\t\t}, {\\\n    \t\t\t\t\t\"fill\": false,\\\n    \t\t\t\t\t\"data\": [3, 15, 7, 4, 19, 12],\\\n    \t\t\t\t\t\"borderColor\": \"rgba(54, 162, 235, 0.2)\"\\\n    \t\t\t\t}]\\\n    \t\t\t}}\\' style=\"min-height:240px;min-width:240px;width:100%;height:100%;position:relative\">\\\n    \t\t\t  <canvas></canvas>\\\n    \t\t\t</div>',\n    \tchartjs: null,\n    \tctx: null,\n    \tnode: null,\n\n    \tconfig: {/*\n    \t\t\ttype: 'line',\n    \t\t\tdata: {\n    \t\t\t\tlabels: [\"Red\", \"Blue\", \"Yellow\", \"Green\", \"Purple\", \"Orange\"],\n    \t\t\t\tdatasets: [{\n    \t\t\t\t\tdata: [12, 19, 3, 5, 2, 3],\n    \t\t\t\t\tfill: false,\n    \t\t\t\t\tborderColor:'rgba(255, 99, 132, 0.2)',\n    \t\t\t\t}, {\n    \t\t\t\t\tfill: false,\n    \t\t\t\t\tdata: [3, 15, 7, 4, 19, 12],\n    \t\t\t\t\tborderColor: 'rgba(54, 162, 235, 0.2)',\n    \t\t\t\t}]\n    \t\t\t},*/\n    \t},\t\t\n\n    \tdragStart: function (node)\n    \t{\n    \t\t//check if chartjs is included and if not add it when drag starts to allow the script to load\n    \t\tbody = Vvveb.Builder.frameBody;\n    \t\t\n    \t\tif ($(\"#chartjs-script\", body).length == 0)\n    \t\t{\n    \t\t\t$(body).append('<script id=\"chartjs-script\" src=\"https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.bundle.min.js\"></script>');\n    \t\t\t$(body).append('<script>\\\n    \t\t\t\t$(document).ready(function() {\\\n    \t\t\t\t\t$(\".chartjs\").each(function () {\\\n    \t\t\t\t\t\tctx = $(\"canvas\", this).get(0).getContext(\"2d\");\\\n    \t\t\t\t\t\tconfig = JSON.parse(this.dataset.chart);\\\n    \t\t\t\t\t\tchartjs = new Chart(ctx, config);\\\n    \t\t\t\t\t});\\\n    \t\t\t\t\\});\\\n    \t\t\t  </script>');\n    \t\t}\n    \t\t\n    \t\treturn node;\n    \t},\n    \t\n\n    \tdrawChart: function ()\n    \t{\n    \t\tif (this.chartjs != null) this.chartjs.destroy();\n    \t\tthis.node.dataset.chart = JSON.stringify(this.config);\n    \t\t\n    \t\tconfig = Object.assign({}, this.config);//avoid passing by reference to avoid chartjs to fill the object\n    \t\tthis.chartjs = new Chart(this.ctx, config);\n    \t},\n    \t\n    \tinit: function (node)\n    \t{\n    \t\tthis.node = node;\n    \t\tthis.ctx = $(\"canvas\", node).get(0).getContext(\"2d\");\n    \t\tthis.config = JSON.parse(node.dataset.chart);\n    \t\tthis.drawChart();\n\n    \t\treturn node;\n    \t},\n      \n      \n    \tbeforeInit: function (node)\n    \t{\n    \t\t\n    \t\treturn node;\n    \t},\n        \n        properties: [\n    \t{\n            name: \"Type\",\n            key: \"type\",\n            inputtype: SelectInput,\n            data:{\n    \t\t\toptions: [{\n                    text: \"Line\",\n                    value: \"line\"\n                }, {\n                    text: \"Bar\",\n                    value: \"bar\"\n                }, {\n                    text: \"Pie\",\n                    value: \"pie\"\n                }, {\n                    text: \"Doughnut\",\n                    value: \"doughnut\"\n                }, {\n                    text: \"Polar Area\",\n                    value: \"polarArea\"\n                }, {\n                    text: \"Bubble\",\n                    value: \"bubble\"\n                }, {\n                    text: \"Scatter\",\n                    value: \"scatter\"\n                },{\n                    text: \"Radar\",\n                    value: \"radar\"\n                }]\n           },\n    \t\tinit: function(node) {\n    \t\t\treturn JSON.parse(node.dataset.chart).type;\n    \t\t},\n           onChange: function(node, value, input, component) {\n    \t\t   component.config.type = value;\n    \t\t   component.drawChart();\n    \t\t   \n    \t\t   return node;\n    \t\t}\n    \t }]\n    });\n});"]}